---
title: TypeScript ë”¥ë‹¤ì´ë¸Œ â€• ì•ˆì •ì„±ì„ ë³´ì¥í•˜ëŠ” ì½”ë“œ ì„¤ê³„
date: 2025-07-16 20:35:42
description: TS ê¸°ì´ˆ ê°œë…ê³¼ ì‹¤ì „ì—ì„œ íƒ„íƒ„í•œ ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°
tags:
  [
    typescript,
    Type Inference,
    Type Assertion,
    type guard,
    Type Narrowing,
    Type Predicate,
    Discriminated Union,
    íƒ€ì… ì¶”ë¡ ,
    íƒ€ì… ë‹¨ì–¸,
    íƒ€ì… ê°€ë“œ,
    íƒ€ì… í”„ë ˆë””ì¼€ì´íŠ¸,
  ]
---

ìµœê·¼ TypeScript ì™€ ê´€ë ¨ëœ ì•„í‹°í´ì„ ì½ë‹¤ â€˜íƒ€ì… ê°€ë“œâ€™ë¼ëŠ” ìš©ì–´ë¥¼ ë³´ê³ , ê¸°ì¡´ì— ìµìˆ™í–ˆë˜ íƒ€ì… ì¶”ë¡ ê³¼ëŠ” ì–´ë–»ê²Œ ë‹¤ë¥¸ì§€ ê¶ê¸ˆí•´ì¡ŒìŠµë‹ˆë‹¤. ìš©ì–´ë¥¼ ë“£ê³  ëŒ€ì¶© ìœ ì¶”ëŠ” ê°€ëŠ¥í•©ë‹ˆë‹¤. íƒ€ì… ìœ í˜•ì— ë”°ë¼ì„œ ì•ˆì „í•˜ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤ëŠ” ì˜ë¯¸ì´ê² ê±°ë‹ˆ..

ê·¸ë˜ë„ ëª¨ë¥´ëŠ” ê²ƒë³´ë‹¤ ëŒ€ì¶© ì•„ëŠ” ê²Œ ë” ë¬´ì„­ë‹¤ê³ , ë¦¬ì„œì¹˜í•˜ëŠ” ê¹€ì— íƒ€ì… ê°œë…ë“¤ì„ ë”¥ë‹¤ì´ë¸Œ í•´ë³´ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.

> ğŸ¤”Â íƒ€ì… ì¶”ë¡ , íƒ€ì… ë‹¨ì–¸, íƒ€ì… ê°€ë“œ, Type Narrowing, Type Predicate, â€¦ ?

ìµìˆ™í•œ ìš©ì–´ì§€ë§Œ ê°œë…ì„ ì¢€ ë” ë‹¤ì§€ê³  ì‹¶ì€ ìš©ì–´ì™€ ì •ë§ ì´ˆë©´ì¸ ìš©ì–´ ìœ„ì£¼ë¡œ ì •ë¦¬í•´ë³´ì•˜ìŠµë‹ˆë‹¤.

<br />

## íƒ€ì… ì¶”ë¡ (Type Inference)

TypeScriptë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ê°€ì¥ ìì£¼ ì ‘í•˜ê²Œ ë˜ëŠ” ê°œë… ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. íƒ€ì… ì¶”ë¡ ì€ TypeScriptê°€ ì»´íŒŒì¼ëŸ¬ë¥¼ ëª…ì‹œì  íƒ€ì…ì´ ì—†ë”ë¼ë„ **ì½”ë“œì˜ íë¦„ê³¼ ì´ˆê¸°ê°’**ì„ ë³´ê³  íƒ€ì…ì„ ìë™ìœ¼ë¡œ ìœ ì¶”í•˜ëŠ” ë™ì‘ì„ ë§í•©ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, ë‹¤ìŒ ì˜ˆì‹œì—ì„œ `str1` ì€ ì´ˆê¸°ê°’ì´ ë¬¸ìì—´ì´ì—ˆìœ¼ë¯€ë¡œ, `string` íƒ€ì…ìœ¼ë¡œ ì¶”ë¡ ë©ë‹ˆë‹¤.

```tsx
let str1 = 'hello'; // string íƒ€ì… ì¶”ë¡ 
const str2 = 'world'; // ë¬¸ìì—´ ë¦¬í„°ëŸ´ íƒ€ì… ì¶”ë¡ 
```

í•˜ì§€ë§Œ `const` í‚¤ì›Œë“œë¡œ ì„ ì–¸ëœ ìƒìˆ˜ëŠ” ë³€ê²½ë˜ì§€ ì•ŠëŠ” ê°’ì´ì£ . ë”°ë¼ì„œ ì´ `str2`ì˜ íƒ€ì…ì€ ë¦¬í„°ëŸ´ íƒ€ì…ì´ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¦‰ `str2`ëŠ” ë” êµ¬ì²´ì ì¸ ê°’(ë¦¬í„°ëŸ´)ì¸ `world`ë¼ëŠ” **ë¬¸ìì—´ ë¦¬í„°ëŸ´ íƒ€ì…**ìœ¼ë¡œ ì¶”ë¡ ë©ë‹ˆë‹¤.

ê°ì²´ ë¦¬í„°ëŸ´ì˜ ê²½ìš°ì—ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ í”„ë¡œí¼í‹° íƒ€ì…ì„ ë„“ê²Œ ì¶”ë¡ í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ `as const` í‚¤ì›Œë“œë¡œ íƒ€ì… ë‹¨ì–¸ì„ í•˜ê²Œë˜ë©´, ë¦¬í„°ëŸ´ íƒ€ì…ì„ ê³ ì •í•˜ê²Œ ë©ë‹ˆë‹¤.

```tsx
// { age: number, name: string } íƒ€ì… ì¶”ë¡ 
const user1 = { age: 20, name: 'Chalri' };

// { age: 20, name: 'Chalri' } íƒ€ì…ìœ¼ë¡œ ê³ ì •
const user2 = { age: 20, name: 'Chalri' } as const;
```

### **íƒ€ì… ì¶”ë¡ ì´ ë¶ˆê°€ëŠ¥í•œ ê²½ìš°** â€• **`any`**

> ë°˜ëŒ€ë¡œ íƒ€ì… ì¶”ë¡ ì´ ë¶ˆê°€ëŠ¥í•œ ëŒ€í‘œì ì¸ ì‚¬ë¡€

1. ë³€ìˆ˜ì— ì´ˆê¸°ê°’ì´ ì—†ëŠ” ê²½ìš° `const foo;`
2. í•¨ìˆ˜ ë§¤ê°œë³€ìˆ˜ë‚˜ ë°˜í™˜ê°’ì— íƒ€ì…ì´ ì •ì˜ë˜ì§€ ì•Šì€ ê²½ìš° `const fn = x => x * 2`

   ë§¤ê°œë³€ìˆ˜ì— ê¸°ë³¸ê°’ì„ ì„¤ì •í•œë‹¤ë©´ ì¶”ë¡ ë  ìˆ˜ ìˆìŒ `const fn = (x = 1) => x * 2`

3. êµ¬ì¡°ë¶„í•´ì—ì„œ íƒ€ì…ì„ ëª…ì‹œí•˜ì§€ ì•Šì€ ê²½ìš° â€• ì°¸ì¡°ëœ í•¨ìˆ˜ì— ë°˜í™˜ íƒ€ì…ì´ ì—†ìŒ

```tsx
function fetchData() {
  return { id: 1, name: 'A' };
}

// id: any, name: any (ë°˜í™˜ íƒ€ì…ì´ ì—†ìœ¼ë©´ any)
const { id, name } = fetchData();
```

<br />

## íƒ€ì… ë‹¨ì–¸(Type Assertion)

ì»´íŒŒì¼ëŸ¬ì—ê²Œ â€œ**ì´** ê°’ì´ ì´ íƒ€ì…ì„ì„ í™•ì‹ í•˜ë‹ˆ, ì§ì ‘ ë‹¨ì–¸í•œ íƒ€ì…ìœ¼ë¡œ íƒ€ì…ì„ ìœ ì¶”í•´ì¤˜â€ë¼ê³  **ëª…ì‹œì ìœ¼ë¡œ ìš”ì²­**í•˜ëŠ” êµ¬ë¬¸ì…ë‹ˆë‹¤. ì»´íŒŒì¼ëŸ¬ê°€ íƒ€ì…ì„ ì¶”ë¡ í•˜ì§€ ëª»í•˜ê±°ë‚˜ ì˜ëª»ëœ íƒ€ì…ìœ¼ë¡œ ì¶”ë¡ í•˜ëŠ” ìƒí™©, ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê°œë°œìê°€ ì–´ë–¤ íƒ€ì…ì¸ì§€ ë” ì˜ ì•Œê³  ìˆëŠ” ê²½ìš°ì— ì‚¬ìš©í•©ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, ë‹¤ìŒ ì½”ë“œì²˜ëŸ¼ ë²„íŠ¼ DOM ìš”ì†Œë¥¼ ê°€ì ¸ì˜¨ë‹¤ê³  í•´ë´…ì‹œë‹¤.

```tsx
// type: HTMLElement | null
const buttonEl = document.getElementById('button');
```

DOM ìš”ì†Œë¥¼ ê°€ì ¸ì˜¤ëŠ” `getElementById` ë©”ì„œë“œëŠ” `HTMLElement | null` íƒ€ì…ìœ¼ë¡œ ë°˜í™˜ë©ë‹ˆë‹¤. í•˜ì§€ë§Œ ìš°ë¦¬ëŠ” ì´ ì—˜ë¦¬ë¨¼íŠ¸ê°€ Buttonì„ì„ ëª…í™•íˆ ì•Œê³  ìˆê¸° ë•Œë¬¸ì— êµ¬ì²´ì ì¸ `HTMLButtonElement` íƒ€ì…ìœ¼ë¡œ ë‹¨ì–¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
// íƒ€ì… ë‹¨ì–¸
const buttonEl = document.getElementById('button') as HTMLButtonElement;
```

íƒ€ì… ë‹¨ì–¸ì€ íŠ¹íˆ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ API, JSON ë°ì´í„° ë“± ì»´íŒŒì¼ëŸ¬ê°€ íƒ€ì…ì„ ì•Œ ìˆ˜ ì—†ëŠ” ê°’ì— ìì£¼ í™œìš©ë©ë‹ˆë‹¤.

```tsx
interface User {
  id: number;
  name: string;
}

const data = JSON.parse(jsonStr) as User[];
```

### ì£¼ì˜ì‚¬í•­

í™•ì‹¤í•œ ë°©ë²•ì¸ ë§Œí¼ ì£¼ì˜í•  ì ë„ ìˆìŠµë‹ˆë‹¤.

íƒ€ì… ë‹¨ì–¸ì€ ì»´íŒŒì¼ëŸ¬ë¥¼ ì†ì¼ ë¿, ì‹¤ì œ ê°’ì´ ë‹¨ì–¸í•œ íƒ€ì…ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ ê²€ì¦í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. **ì˜ëª»ëœ íƒ€ì… ë‹¨ì–¸ì€ ëŸ°íƒ€ì„ ì—ëŸ¬ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.** íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ ì¥ì ì„ ì´ìš©í•˜ë ¤ëŠ” ë³¸ë˜ì˜ ëª©ì ê³¼ ë‹¤ë¥´ê²Œ ì˜¤íˆë ¤ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ ì´ì ì„ ëˆ„ë¦¬ê¸° ì–´ë ¤ì›Œì§€ê³ , ì½”ë“œì˜ ì•ˆì •ì„±ì„ ë³´ì¥í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

> ê°€ëŠ¥í•œ í•œ **íƒ€ì… ê°€ë“œ**ë‚˜ ì •ì˜ëœ ì¸í„°í˜ì´ìŠ¤ë¡œ ê²€ì¦ í›„, **í™•ì‹ ì´ ìˆì„ ê²½ìš°ì—ë§Œ íƒ€ì… ë‹¨ì–¸ì„ ì‚¬ìš©í•˜ì**

<br />
## Type Guard ì™€ Type Narrowing

íƒ€ì… ê°€ë“œëŠ” ëŸ°íƒ€ì„ ê²€ì¦ìœ¼ë¡œ ë³€ìˆ˜ì˜ íƒ€ì…ì„ ì¢íˆê³ , ì½”ë“œì—ì„œ ê·¸ íƒ€ì…ì— ì•ˆì „í•˜ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, TypeScriptì—ì„œ ìœ ë‹ˆì˜¨ íƒ€ì… ë§Œë‚¬ë‹¤ê³  ê°€ì •í•  ë•Œ, ì¡°ê±´ë¬¸ê³¼ íƒ€ì…ì„ ê²€ì‚¬í•˜ì—¬ ìë™ìœ¼ë¡œ íƒ€ì…ì„ ì¢í˜€ ê°€ëŠ¥í•œ í•œ íƒ€ì… ë‹¨ì–¸ ì—†ì´ íƒ€ì…ì„ ëª…í™•íˆ í•˜ëŠ” ë°©ì‹ì¸ë°ìš”. ì´ë ‡ê²Œ íƒ€ì…ì„ ë” êµ¬ì²´ì ì¸ íƒ€ì…ìœ¼ë¡œ ì¢íˆëŠ” ê³¼ì •ì„ **Type Narrowing** ì´ë¼ê³  í•˜ê³ , ì´ëŠ” Type Guardì˜ í•µì‹¬ ë¡œì§ì´ ë©ë‹ˆë‹¤.

## ë‚´ì¥ íƒ€ì… ê°€ë“œ

ë‚´ì¥ íƒ€ì… ê°€ë“œëŠ” ë‚´ì¥ ì—°ì‚°ì `typeof`, `instanceof`, `in` ì´ ìˆìŠµë‹ˆë‹¤.

### typeof

ì›ì‹œ íƒ€ì…ì„ ê²€ì‚¬í• ë•Œ ì‚¬ìš©

```tsx
// ìœ ë‹ˆì˜¨ íƒ€ì… ë§¤ê°œë³€ìˆ˜ x
function fn(x: string | number) {
  if (typeof x === 'string') {
    console.log(x);
  } else {
    // ...
  }
}
```

### instanceof

í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ êµ¬ë¶„í•  ë•Œ ì‚¬ìš©

```tsx
class Person {
  age = 20;
  name = 'Chalri';
}

class Animal {
  kind = 'cat';
  name = 'ë‚˜ë¹„';
}

function check(arg: Person | Animal) {
  if (arg instanceof Person) {
    console.log('Person', obj.name); // Person Chalri
  }
  if (arg instanceof Animal) {
    console.log('Animal', obj.name); // Animal ë‚˜ë¹„
  }
}
```

### in

ê°ì²´ì— íŠ¹ì • propertyê°€ ì¡´ì¬í•˜ëŠ”ì§€ ê²€ì‚¬í•´ íƒ€ì…ê°€ë“œë¡œ í™œìš©

```tsx
type Person { walk(): void }
type Bird { fly(): void }

function move(arg: Person | Bird) {
  if ('walk' in arg) {
    arg.walk();
  } else {
    arg.fly();
  }
}
```

## ë¦¬í„°ëŸ´ Type Guard

ë¦¬í„°ëŸ´ ê°’ì¸ ê²½ìš° ë¹„êµ ì—°ì‚°ì(`===`, `==`, `!==`, `!=`)ë¥¼ ì‚¬ìš©í•˜ì—¬ íƒ€ì…ì„ êµ¬ë¶„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
type AnimalType = 'dog' | 'cat' | 'bird';

function kindOfAnimal(animal: AnimalType) {
  if (animal === 'dog') console.log('dog');
  if (animal === 'cat') console.log('cat');
  if (animal === 'bird') console.log('bird');
}
```

## ì‚¬ìš©ì ì •ì˜ Type Guard

ë‚´ì¥ íƒ€ì… ê°€ë“œë§Œìœ¼ë¡œ íŒë³„í•˜ê¸° ì–´ë ¤ìš´ ë³µì¡í•œ ê°ì²´, ì™¸ë¶€ ë°ì´í„°(API ì‘ë‹µ, JSONë°ì´í„°)ì˜ **íƒ€ì… ê²€ì¦ ë°©ë²•ì„ ì§ì ‘ ì •ì˜í•˜ê³  ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ê²€ì‚¬ ë¡œì§ìœ¼ë¡œ í•¨ìˆ˜ë¡œ ë¶„ë¦¬**í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì‚¬ìš©ì ì •ì˜ TypeGuard í•¨ìˆ˜ëŠ” ì „ë‹¬ë°›ì€ ì¸ìê°€ ì–´ë– í•œ íƒ€ì…ì¸ì§€ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.

```tsx
interface Cat {
  meow(): void;
  name: string;
}
interface Dog {
  bark(): void;
  name: string;
}

// ëŸ°íƒ€ì„ íƒ€ì… ê²€ì¦
function isCat(pet: Cat | Dog): pet is Cat {
  return pet.meow() !== 'function';
}

function play(pet: Cat | Dog) {
  if (isCat(pet)) {
    pet.meow();
  } else {
    pet.bark();
  }
}
```

## Type Predicate

ì‚¬ìš©ì ì •ì˜ Type Guard ì˜ˆì œì—ì„œ `function isCat(â€¦): pet is Cat` ë¶€ë¶„ì„ **Type Predicate(íƒ€ì… í”„ë ˆë””ì¼€ì´íŠ¸)ë¼ê³  í•©ë‹ˆë‹¤.** Type PredicateëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ íŠ¹ì • íƒ€ì…ì— ëŒ€í•˜ì—¬ ë™ì ìœ¼ë¡œ ì²´í¬ë¥¼ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.

```
{íŒŒë¼ë¯¸í„°ëª…} is {íƒ€ì…}
```

ì´ ê°€ë“œ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œëŠ” ì…ë ¥ëœ ê°’ê³¼ ì¡°ê±´ì„ ê²€ì‚¬í•´ ë¶ˆë¦¬ì–¸ìœ¼ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤. í˜¸ì¶œ ì§€ì ì—ì„œ ì»´íŒŒì¼ëŸ¬ê°€ íƒ€ì…ì„ ì¢íˆë„ë¡ â€˜**ì´ ë¶„ê¸°ì—ì„œëŠ” \{íŒŒë¼ë¯¸í„°ëª…\}ì€ ì´ \{íƒ€ì…\}ì´ë‹¤â€™**ë¼ëŠ” ê²ƒì„ ì•½ì†í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤. ì¦‰ ëŸ°íƒ€ì„ì— ë³€ìˆ˜ì˜ íƒ€ì…ì„ ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## **Discriminated Union íŒ¨í„´**

TypeScriptì˜ Discriminated Unionì€ ê° ê°ì²´ íƒ€ì…ë³„ë¡œ **ê³µí†µëœ êµ¬ë³„ì(discriminator)ë¥¼ í”„ë¡œí¼í‹°**ë¥¼ ë‘ì–´, ê°„ë‹¨í•œ ë¶„ê¸° ì²˜ë¦¬(`if`, `switch`)ë§Œìœ¼ë¡œë„ íƒ€ì…ì„ ì¢í ìˆ˜ ìˆëŠ” ê¸°ë²•ì…ë‹ˆë‹¤.

ì‚¬ìš©ì ì •ì˜ íƒ€ì… ê°€ë“œ í•¨ìˆ˜ ì—†ì´ ë¹„êµ ì—°ì‚°ì ë§Œìœ¼ë¡œë„ ì‰½ê²Œ íƒ€ì…ì„ êµ¬ë¶„í•  ìˆ˜ ìˆê²Œ ë˜ëŠ” ê²ƒì´ì£ .

```tsx
type Circle = { kind: 'circle'; radius: number };
type Square = { kind: 'square'; size: number };

type Shape = Circle | Square;

function figureArea(shape: Shape) {
  if (shape.kind === 'circle') {
    return Math.PI * radius ** 2;
  }
  if (shape.kind === 'square') {
    return shape.size ** 2;
  }
}
```

ì´ ì—ì œì—ì„œëŠ” ë‘ íƒ€ì… Circleê³¼ Squareì˜ êµ¬ë³„ì(discriminator)ë¥¼ `kind`ë¼ëŠ” í”„ë¡œí¼í‹°ë¡œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

<br />

## Type Narrowing + Discriminated Union ì ìš©

ìµœê·¼ì— [ì´ íŒ¨í„´ì„ í™œìš©í•œ ì»´í¬ë„ŒíŠ¸ êµ¬í˜„ì— ëŒ€í•œ ê¸€](https://velog.io/@rewq5991/react-component-type-guard-button)ì„ ë³´ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ ë¬¸ì œëŠ” ì €ë„ ìì£¼ ê³ ë¯¼í–ˆë˜ ë¬¸ì œë¼ ì¸ìƒê¹Šê²Œ ì½ì€ ê¸€ì´ì—ˆì–´ìš”. ì˜ˆë¥¼ ë“¤ì–´, ë‹¤ìŒì˜ ë””ìì¸ ìš”êµ¬ì‚¬í•­ì„ ì „ë‹¬ë°›ì•˜ë‹¤ê³  ê°€ì •ë³´ê² ìŠµë‹ˆë‹¤.

- ë²„íŠ¼ì€ Solid, Outlined, Ghost, Text 4ê°€ì§€ íƒ€ì…ì„ ì œê³µí•œë‹¤.
- **Solid Button** - Primary, Secondary, subtle, muted 4ê°€ì§€ variant ì œê³µ
- **Outlined Button** - Primary, Secondary, subtle 3ê°€ì§€ variant ì œê³µ
- **Ghost Button** - Primary, Secondary, muted 3ê°€ì§€ variant ì œê³µ
- **Text Button** - Primary, Secondary 2ê°€ì§€ variant ì œê³µ

ì´ë ‡ê²Œ ë²„íŠ¼ íƒ€ì…ë§ˆë‹¤ ì§€ì›í•˜ëŠ” ìŠ¤íƒ€ì¼ì´ ëª¨ë‘ ë‹¤ë¥´ë‹¤ë©´ ì–´ë–»ê²Œ ì„¤ê³„í•˜ì‹¤ ê±´ê°€ìš”?

```tsx
type ButtonType = 'solid' | 'outlined' | 'ghost' | 'text';
type ButtonVariant = 'primary' | 'secondary' | 'subtle' | 'muted';

interface ButtonProps {
  children: React.ReactNode;
  type?: ButtonType; // í—ˆìš©ê°’ì„ ì œí•œí•˜ì§€ë§Œ, ì¡°í•©ì— ëŒ€í•œ ì œì•½ì´ ì—†ìŒ
  variant?: ButtonVariant; // ëª¨ë“  variantê°€ ëª¨ë“  typeì— í—ˆìš©ë¨
}

export function Button({ type = 'solid', variant = 'primary', children }: ButtonProps) {
  // ì˜ëª»ëœ type/variant ì¡°í•©ì´ ì»´íŒŒì¼ì„ í†µê³¼í•¨
  const classes = ['btn', `btn-${type}`, `btn-${variant}`, `btn-${size}`].join(' ');

  // if, switch ë¶„ê¸°ì²˜ë¦¬

  return <button>{children}</button>;
}
```

ë‹¨ìˆœí•˜ê²Œ ì²˜ë¦¬í•˜ë©´ ButtonType, ButtonVariantì˜ íƒ€ì…ë§Œ ì •ì˜í•˜ê³  ì‘ì—…í•  ìˆ˜ ìˆì§€ë§Œ, ì´ ì½”ë“œì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.

1. **ëª…í™•í•œ íƒ€ì…(ì¡°í•©) ë³´ì¥ ë¶ˆê°€**

   â€• type, variantë¥¼ ê°ê° í—ˆìš©ê°’ë§Œ ì œí•œí–ˆì„ ë¿, ë‘ ê°’ì˜ ì¡°í•©ì˜ ìœ íš¨ì„± ì—¬ë¶€ëŠ” ê²€ì¦í•˜ì§€ ëª»í•´ ì½”ë“œì˜ ì•ˆì •ì„±ì´ ë‚®ì•„ì§

2. **ëª¨ë“  variantë¥¼ ëª¨ë“  íƒ€ì…ì— í—ˆìš©**

   â€• Text ë²„íŠ¼ì— ì˜ë„í•˜ì§€ ì•Šì€ variant(subtle, muted)ê°€ ë„˜ì–´ì™€ë„ ì»´íŒŒì¼ëŸ¬ëŠ” ë§‰ì•„ì£¼ì§€ ëª»í•¨

3. **ì½”ë“œì˜ ë³µì¡ì„±**

   â€• ëª¨ë“  ì¡°í•©ì„ `if`, `switch`ë¬¸ ë¶„ê¸°ì²˜ë¦¬ë¡œ ê°€ë…ì„±ì´ ì €í•˜ ê°€ëŠ¥ì„± ìˆìŒ

4. **í™•ì¥ì„±Â·ìœ ì§€ë³´ìˆ˜ì„± ì €í•˜**

   â€• ìƒˆë¡œìš´ ë²„íŠ¼ íƒ€ì…ì´ë‚˜ variantë¥¼ ì¶”ê°€í•  ë•Œë§ˆë‹¤, ëŸ°íƒ€ì„ ë¡œì§ì˜ ì¡°ê±´ë¬¸ì„ ì¼ì¼ì´ ìˆ˜ì •í•´ì•¼ í•¨

5. **TypeScript ì´ì ì„ ëˆ„ë¦¬ì§€ X**
   â€• ì»´íŒŒì¼ íƒ€ì„ì— ì¡°í•© ì˜¤ë¥˜ë¥¼ ì¡ì•„ë‚¼ ìˆ˜ ìˆëŠ” íƒ€ì… ì‹œìŠ¤í…œì„ í™œìš©í•˜ì§€ ëª»í•˜ê³ , ì˜¤ë¥˜ëŠ” ëŸ°íƒ€ì„ê¹Œì§€ ë¯¸ë¤„ì§‘ë‹ˆë‹¤.

ì´ë•Œ ì´ ë¬¸ì œë“¤ì„ **Type Narrowing + Discriminated Union**ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 1. **Discriminated Union ì ìš©**

```tsx
type BaseButtonProps = {
  children: React.ReactNode;
  ...
}

/* kind íƒ€ì…ì„ êµ¬ë³„ì(discriminator)ë¡œ ì‚¬ìš© */
type SolidButtonProps = {
  kind: 'solid';
  variant: 'primary' | 'secondary' | 'subtle' | 'muted';
}

type OutlinedButtonProps = {
  kind: 'outlined';
  variant: 'primary' | 'secondary' | 'subtle';
}

type GhostButtonProps = {
  kind: 'ghost';
  variant: 'primary' | 'secondary' | 'muted';
}

type TextButtonProps = {
  kind: 'text';
  variant: 'primary' | 'secondary';
}

/* Discriminator Union */
type ButtonProps =
  (BaseButtonProps & SolidButtonProps)
  | (BaseButtonProps & OutlinedButtonProps)
  | (BaseButtonProps & GhostButtonProps)
  | (BaseButtonProps & TextButtonProps)
```

ë˜ëŠ” VariantMap íƒ€ì…ì„ ë”°ë¡œ ë¶„ë¦¬í•˜ì—¬ ê´€ë¦¬í•˜ëŠ” ê²ƒë„ ê´œì°®ì€ ë°©ë²•ì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

```tsx
interface VariantMap {
  solid:   "primary" | "secondary" | "subtle" | "muted";
  outlined:"primary" | "secondary" | "subtle";
  ghost:   "primary" | "secondary" | "muted";
  text:    "primary" | "secondary";
}

type SolidButtonProps = {
  kind: 'solid';
  variant: VariantMap['solid'];
}

...
```

### 2. **Type Narrowing ì ìš©**

```tsx
/src/components/
  â”œ Button.tsx           â† wrapper: kind ë¶„ê¸°ë§Œ ë‹´ë‹¹
  â”œ SolidButton.tsx      â† solid ì „ìš© ìŠ¤íƒ€ì¼Â·ë¡œì§
  â”œ OutlinedButton.tsx   â† outlined ì „ìš© ìŠ¤íƒ€ì¼Â·ë¡œì§
  â”œ GhostButton.tsx      â† ghost ì „ìš© ìŠ¤íƒ€ì¼Â·ë¡œì§
  â”” TextButton.tsx       â† text ì „ìš© ìŠ¤íƒ€ì¼Â·ë¡œì§
```

```tsx
const Button = ({ kind }: ButtonProps) => {
  if (kind === 'outlined') {
    return <OutlinedButton {...props} />;
  }
  if (kind === 'ghost') {
    return <TextButton {...props} />;
  }
  if (kind === 'text') {
    return <GhostButton {...props} />;
  }
  return <SolidButton {...props} />;
};
```

### 3. ì»´í¬ë„ŒíŠ¸ ì‚¬ìš© ì˜ˆì œ

```tsx
export function Example() {
  return (
    <>
      {/* ì˜¬ë°”ë¥¸ ì¡°í•© */}
      <Button kind="solid" variant="subtle">
        Solid Subtle
      </Button>
      <Button kind="text" variant="secondary">
        Text Secondary
      </Button>

      {/* ì˜ëª»ëœ ì¡°í•© (ì»´íŒŒì¼ ì—ëŸ¬) */}
      {/* <Button kind="text" variant="muted">Text Muted</Button> */}
    </>
  );
}
```

### ì¥ì  ìš”ì•½

- **ìœ ì§€ë³´ìˆ˜ Â· í™•ì¥ì„± í–¥ìƒ** - ë…ë¦½ì ì¸ íŒŒì¼ë§Œ ìˆ˜ì •í•˜ê±°ë‚˜, ì¶”ê°€í•˜ë©´ ë¨
- **ì½”ë“œ ê°€ë…ì„± í–¥ìƒ** - `ifë¬¸`ì´ ë•ì§€ë•ì§€ ë¶™ì€ ë¶„ê¸°ì²˜ë¦¬ ì—†ì´ êµ¬ë³„ì(ì˜ˆì œê¸°ì¤€ `kind`)ë§Œìœ¼ë¡œë„ ê¹”ë”í•œ ë¶„ê¸°ì²˜ë¦¬ê°€ ê°€ëŠ¥
- **íƒ€ì… ì•ˆì •ì„± í–¥ìƒ** - ì˜ëª»ëœ ì¡°í•©ì„ ì»´íŒŒì¼ íƒ€ì„ì— ì¦‰ì‹œ í™•ì¸í•  ìˆ˜ ìˆìŒ

<br />

## ë§ˆë¬´ë¦¬

íƒ€ì… ì¶”ë¡ , íƒ€ì… ë‹¨ì–¸, Type Guard, Type Narrowing, Type Predicate, Discriminated Union íŒ¨í„´..

ì²˜ìŒ ë“£ëŠ” ìš©ì–´ë„ ìˆê³  ì•Œê³ ìˆì§€ë§Œ ì™„ë²½íˆ ì•Œì§€ ëª»í•œ ê°œë…ë„ ë§ì•˜ì§€ë§Œ, ì´ ê¸°íšŒì— ì° íƒ€ì… ì•ˆì •ì„±ì— ëŒ€í•´ ë‹¤ì‹œ ìƒê°í•´ë³´ëŠ” ì¢‹ì€ ê¸°íšŒì˜€ìŠµë‹ˆë‹¤. ëª¨ë‘ ì•ˆì •ì ì¸ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì„¤ê³„ì— ë§ì€ ë„ì›€ì´ ë˜ì—ˆìœ¼ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤ ğŸ™
